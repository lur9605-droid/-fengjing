<!DOCTYPE html>
<html>
<head>
    <title>LocalStorage 测试</title>
</head>
<body>
    <h1>LocalStorage 数据检查</h1>
    <div id="results"></div>
    <button onclick="clearData()">清除所有数据</button>
    
    <script>
        function checkData() {
            const photos = JSON.parse(localStorage.getItem('photos') || '[]');
            const currentUser = JSON.parse(localStorage.getItem('currentUser') || 'null');
            
            document.getElementById('results').innerHTML = `
                <h2>照片数量: ${photos.length}</h2>
                <h3>当前用户:</h3>
                <pre>${JSON.stringify(currentUser, null, 2)}</pre>
                <h3>照片数据:</h3>
                <pre>${JSON.stringify(photos.slice(0, 2), null, 2)}</pre>
            `;
        }
        
        function clearData() {
            localStorage.clear();
            checkData();
            alert('数据已清除，请刷新主应用页面');
        }
        
        checkData();
    </script>
</body>
</html>